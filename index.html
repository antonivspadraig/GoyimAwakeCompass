<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pro-White / Antisemite Compass</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      line-height: 1.5;
      background: #f9f9f9;
    }
    h1 { text-align: center; color: #222; }
    .questions { margin: 0 auto; max-width: 800px; }
    .question {
      margin-bottom: 1.6em;
      padding: 1em;
      background: white;
      border-radius: 8px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    }
    .question h3 { margin-top: 0; font-size: 1.1em; }
.options {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 10px;                /* slightly tighter spacing if you want */
}

.options label {
  flex: 1 1 100px;           /* better responsiveness on small screens */
  text-align: center;
  padding: 12px 8px;
  background: #e8e8e8;      /* light gray – unselected state */
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.18s ease;
  font-weight: 500;
  font-size: 0.8em;
  user-select: none;
  border: 1px solid #ccc;   /* subtle border for definition */
}

/* Hide the radio button itself */
.options input[type="radio"] {
  display: none;
}

/* === Modern & clean: whole label changes when selected === */
.options label:has(input[type="radio"]:checked) {
  background: #333;         /* dark charcoal – selected color */
  color: white;
  border-color: #222;
  box-shadow: 0 0 0 3px rgba(51,51,51,0.4);
  transform: scale(1.04);   /* subtle "pop" effect */
  font-weight: bold;
}

/* Hover feedback */
.options label:hover:not(:has(input:checked)) {
  background: #d8d8d8;
}

/* Optional: stronger hover on selected */
.options label:has(input:checked):hover {
  background: #444;
}

/* Fallback for older browsers (if :has() not supported) */
.options input[type="radio"]:checked + span {
  /* This is just backup – won't be needed if :has() works */
  color: white;
}
    button {
      display: block;
      margin: 2em auto;
      padding: 14px 40px;
      font-size: 1.2em;
      background: #222;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover { background: #444; }
    #compass-container {
      text-align: center;
      display: none;
    }
    #compass-svg {
      max-width: 100%;
      height: auto;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: white;
      margin: 1.5em auto;
    }
    #retake {
      margin-top: 1em;
      background: #555;
    }
  </style>
</head>
<body>

<h1>Pro-White vs Anti-White × Philosemite vs Antisemite</h1>

<div id="questions" class="questions">
  <!-- Questions will be generated by JS -->
</div>

<button id="submit">Calculate Position</button>

<div id="compass-container">
  <h2>Your Position</h2>
  <svg id="compass-svg" width="600" height="600" viewBox="0 0 600 600"></svg>
  <button id="retake">Retake Quiz</button>
</div>

<script>
// ────────────────────────────────────────────────────────────────
// Questions (same as before)
const questions = [
  { text: "White people have a right to preserve their majority in their own countries.", axis: "Y", polarity: "Pro" },
  { text: "Jews have disproportionate power in global affairs.", axis: "X", polarity: "Anti" },
  { text: "White privilege is a significant problem in society.", axis: "Y", polarity: "Anti" },
  { text: "Israel is a beacon of democracy in the Middle East.", axis: "X", polarity: "Pro" },
  { text: "The \"great replacement\" theory is accurate.", axis: "Y", polarity: "Pro" },
  { text: "Criticism of Jewish influence is often justified.", axis: "X", polarity: "Anti" },
  { text: "White people are the victims of systemic discrimination today.", axis: "Y", polarity: "Pro" },
  { text: "The term \"antisemitism\" is used to suppress legitimate criticism of Israel.", axis: "X", polarity: "Anti" },
  { text: "Race-based preferences in hiring are unfair to whites.", axis: "Y", polarity: "Pro" },
  { text: "Jewish people have made invaluable contributions to civilization.", axis: "X", polarity: "Pro" },
  { text: "White people should feel guilty for historical events like colonialism and slavery.", axis: "Y", polarity: "Anti" },
  { text: "Jews are more loyal to each other than to their host countries.", axis: "X", polarity: "Anti" },
  { text: "European culture is the pinnacle of human achievement.", axis: "Y", polarity: "Pro" },
  { text: "The Holocaust is often exaggerated or used to justify current policies.", axis: "X", polarity: "Anti" },
  { text: "Non-white immigration threatens the cultural identity of Western nations.", axis: "Y", polarity: "Pro" },
  { text: "Supporting Israel is a moral imperative.", axis: "X", polarity: "Pro" },
  { text: "The concept of white supremacy is a myth invented to oppress people.", axis: "Y", polarity: "Anti" },
  { text: "Jewish people are overrepresented in positions of power due to intelligence and hard work.", axis: "X", polarity: "Pro" },
  { text: "All races are equal in every way, biologically and culturally.", axis: "Y", polarity: "Anti" },
  { text: "Antisemitism is rising due to legitimate grievances against Jewish influence.", axis: "X", polarity: "Anti" },
];

const labels = ["Strongly Agree", "Agree", "Disagree", "Strongly Disagree"];
const values = [2, 1, -1, -2];

function initQuestions() {
  const container = document.getElementById("questions");
  container.innerHTML = "";

  questions.forEach((q, i) => {
    const div = document.createElement("div");
    div.className = "question";
    div.innerHTML = `
      <h3>${i+1}. ${q.text}</h3>
      <div class="options">
        ${labels.map((lbl, j) => `
          <label>
            <input type="radio" name="q${i}" value="${j}"/>
            <span>${lbl}</span>
          </label>
        `).join("")}
      </div>
    `;
    container.appendChild(div);
  });
}

function getScore() {
  let y = 0;
  let x = 0;

  questions.forEach((q, i) => {
    const selected = document.querySelector(`input[name="q${i}"]:checked`);
    if (!selected) return; // skip unanswered

    const idx = parseInt(selected.value);
    let point = values[idx];
    if (q.polarity === "Anti") point = -point;

    if (q.axis === "Y") y += point;
    else x += point;
  });

  return { x, y };
}

function drawCompass(x, y) {
  const svg = document.getElementById("compass-svg");
  svg.innerHTML = "";

  const size = 600;
  const center = size / 2;
  const range = 20;
  const scale = (center - 60) / range;  // more margin

  // Quadrants (same as before)
  const quadSize = center - 20;
  svg.innerHTML += `<rect x="20" y="20" width="${quadSize}" height="${quadSize}" fill="#ffcccc"/>`;
  svg.innerHTML += `<rect x="${center}" y="20" width="${quadSize}" height="${quadSize}" fill="#cce5ff"/>`;
  svg.innerHTML += `<rect x="20" y="${center}" width="${quadSize}" height="${quadSize}" fill="#ccffcc"/>`;
  svg.innerHTML += `<rect x="${center}" y="${center}" width="${quadSize}" height="${quadSize}" fill="#e6ccff"/>`;

  // Axes
  svg.innerHTML += `<line x1="20" y1="${center}" x2="${size-20}" y2="${center}" stroke="#000" stroke-width="4"/>`;
  svg.innerHTML += `<line x1="${center}" y1="20" x2="${center}" y2="${size-20}" stroke="#000" stroke-width="4"/>`;

  // Main axis labels - short & bold
  svg.innerHTML += `<text x="${center}" y="45" font-size="32" font-weight="bold" text-anchor="middle" fill="#000">Pro-White</text>`;
  svg.innerHTML += `<text x="${center}" y="${size-20}" font-size="32" font-weight="bold" text-anchor="middle" fill="#000">Anti-White</text>`;

  // X-axis labels - positioned further out + smaller font
  svg.innerHTML += `<text x="25" y="${center + 35}" font-size="26" text-anchor="start" fill="#000">Philosemite</text>`;
  svg.innerHTML += `<text x="${size-25}" y="${center + 35}" font-size="26" text-anchor="end" fill="#000">Antisemite</text>`;

  // Your position label & dot
  const dotX = center - x * scale;
  const dotY = center - y * scale;

  svg.innerHTML += `
    <circle cx="${dotX}" cy="${dotY}" r="14" fill="red" stroke="black" stroke-width="3"/>
    <text x="${dotX}" y="${dotY + 10}" fill="white" font-weight="bold" font-size="20" text-anchor="middle"></text>
  `;

  // Score labels - smaller & positioned inside with background
  svg.innerHTML += `<rect x="${center - 55}" y="70" width="110" height="28" rx="4" fill="rgba(255,255,255,0.85)"/>`;
  svg.innerHTML += `<text x="${center}" y="90" font-size="22" text-anchor="middle" fill="#333">Y = ${y}/20</text>`;
  svg.innerHTML += `<rect x="${center - 55}" y="${size-82}" width="110" height="28" rx="4" fill="rgba(255,255,255,0.85)"/>`;
  svg.innerHTML += `<text x="${center}" y="${size-60}" font-size="22" text-anchor="middle" fill="#333">X = ${x}/20</text>`;

  // Optional subtle grid
  for (let i = -range; i <= range; i += 5) {
    if (i === 0) continue;
    const px = center + i * scale;
    const py = center - i * scale;
    svg.innerHTML += `<line x1="${px}" y1="20" x2="${px}" y2="${size-20}" stroke="#eee" stroke-width="1" stroke-dasharray="5"/>`;
    svg.innerHTML += `<line x1="20" y1="${py}" x2="${size-20}" y2="${py}" stroke="#eee" stroke-width="1" stroke-dasharray="5"/>`;
  }
}

// ────────────────────────────────────────────────────────────────
// Event listeners
document.addEventListener("DOMContentLoaded", () => {
  initQuestions();

  document.getElementById("submit").onclick = () => {
    const { x, y } = getScore();
    document.getElementById("questions").style.display = "none";
    document.getElementById("submit").style.display = "none";
    document.getElementById("compass-container").style.display = "block";

    drawCompass(x, y);
  };

  document.getElementById("retake").onclick = () => {
    document.getElementById("compass-container").style.display = "none";
    document.getElementById("questions").style.display = "block";
    document.getElementById("submit").style.display = "block";
    // Reset radios
    document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
  };
});
</script>
</body>
</html>
